<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%>
<c:set var="path2" value="${pageContext.servletContext.contextPath }" />
<!DOCTYPE>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>향수</title>
	<jsp:include page="../include/head.jsp"></jsp:include>
	
<style>
    /* Add your existing CSS styles here */

    /* Carousel container */
    .fr-carousel_wrap {
        position: relative;
        overflow: hidden;
        width: 100%;
    }

    /* Carousel */
    .fr-carousel {
        display: flex;
        transition: transform 0.5s ease;
    }

    /* Transparent images */
    .fr-cell:not(:first-child) img {
        opacity: 0.5;
    }

    /* Previous and Next buttons */
    .button-container {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 100%;
    }

    .fr-prev,
    .fr-next {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        z-index: 1;
    }

    .fr-prev {
        left: 10px;
    }

    .fr-next {
        right: 10px;
    }

    /* Hide arrows on smaller screens */
    @media screen and (max-width: 1440px) {
        .fr-prev,
        .fr-next {
            display: none;
        }
    }

    /* Add more media queries for responsive design */
</style>
</head>
<body>
    <!-- Your existing HTML code goes here -->

    <div class="fr-carousel_wrap">
        <div class="button-container">
            <button class="fr-prev">&lt;</button>
            <button class="fr-next">&gt;</button>
        </div>
        <div class="fr-carousel">
            <ul class="fr-container">
                <li class="fr-cell"><img src="${path2 }/resources/images/product/fragrance/Tacit.png" alt="테싯"></li>
                <li class="fr-cell"><img src="${path2 }/resources/images/product/fragrance/Karst.png" alt="카르스트"></li>
                <li class="fr-cell"><img src="${path2 }/resources/images/product/fragrance/Eremia.png" alt="에레미야"></li>
                <li class="fr-cell"><img src="${path2 }/resources/images/product/fragrance/Gloam.png" alt="글롬"></li>
                <li class="fr-cell"><img src="${path2 }/resources/images/product/fragrance/Rozu.png" alt="로즈"></li>
                <li class="fr-cell"><img src="${path2 }/resources/images/product/fragrance/Marrakech.png" alt="마라케시"></li>
                <li class="fr-cell"><img src="${path2 }/resources/images/product/fragrance/Hwyl.png" alt="휠"></li>
                <li class="fr-cell"><img src="${path2 }/resources/images/product/fragrance/Eidesis.png" alt="이더시스"></li>
                <li class="fr-cell"><img src="${path2 }/resources/images/product/fragrance/Miraceti.png" alt="미라세티"></li>
                <li class="fr-cell"><img src="${path2 }/resources/images/product/fragrance/Ouranon.png" alt="우라논"></li>
            </ul>
        </div>
    </div>

<script>
    const carousel = document.querySelector('.fr-carousel');
    const prevButton = document.querySelector('.fr-prev');
    const nextButton = document.querySelector('.fr-next');
    const slides = document.querySelectorAll('.fr-cell');

    let counter = 0;
    const slideWidth = slides[0].clientWidth;

    // Initial transparent setting
    slides.forEach((slide, index) => {
        if (index !== counter) {
            slide.style.opacity = '0.5';
        }
    });

    // Button functionality
    prevButton.addEventListener('click', () => {
        if (counter <= 0) return;
        counter--;
        carousel.style.transition = 'transform 0.5s ease-in-out';
        carousel.style.transform = `translateX(-${counter * slideWidth}px)`;
        updateOpacity();
    });

    nextButton.addEventListener('click', () => {
        if (counter >= slides.length - 1) return;
        counter++;
        carousel.style.transition = 'transform 0.5s ease-in-out';
        carousel.style.transform = `translateX(-${counter * slideWidth}px)`;
        updateOpacity();
    });

    // Update opacity
    function updateOpacity() {
        slides.forEach((slide, index) => {
            if (index === counter) {
                slide.style.opacity = '1';
            } else {
                slide.style.opacity = '0.5';
            }
        });
    }

    // Responsive design
    window.addEventListener('resize', () => {
        slideWidth = slides[0].clientWidth;
        carousel.style.transition = 'none';
        carousel.style.transform = `translateX(-${counter * slideWidth}px)`;
    });
</script>
		
		<footer>
			<jsp:include page="../include/footer.jsp"></jsp:include>
		</footer>
	</div>	
</body>
</html>